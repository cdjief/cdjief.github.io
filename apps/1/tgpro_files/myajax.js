function update_ajax3_front(params){if(typeof(url)!='string'){alert('url vriable not set');return false;}var url2=url;for(x in params){if(x!='st'&&x!='skip_url'&&x!='user_url'&&x!='ids'&&x!='callback')url2+=x+'='+escape(params[x])+'&';}if(typeof(loading_img)=='undefined')$('#ajax_container').html('Loading . . .');else
$('#ajax_container').html('<div style="text-align:center;"><img alt="'+loading_img+'" src="'+loading_img+'"></div>'+$('#ajax_container').html());var ajax_settings={url:url2,success:function(data){$('#ajax_container').html($('#template').jqote($.parseJSON(data)));if(typeof(params.callback)!='undefined')eval(params.callback);}};if(typeof(params.ids)!='undefined'){ajax_settings.type='post';var value=params.ids.join(',');ajax_settings.data={ids:value};}if(typeof(params.skip_url)!='undefined'){ajax_settings.type='post';ajax_settings.data={st:params.st,skip_url:params.skip_url};}else if(typeof(params.st)!='undefined'){ajax_settings.type='post';ajax_settings.data={st:params.st};}else if(typeof(params.user_url)!='undefined'){ajax_settings.type='post';ajax_settings.data={user_url:params.user_url};}$.ajax(ajax_settings);}function update_ajax3(params){if(typeof(url)!='string'){alert('url vriable not set');return false;}var url2=url;for(x in params){if(x!='ids'&&x!='callback')url2+=x+'='+escape(params[x])+'&';}if(typeof(loading_img)=='undefined')$('#ajax_container').html('Loading . . .');else
$('#ajax_container').html('<div style="position:absolute;"><img alt="'+loading_img+'" src="'+loading_img+'"></div>'+$('#ajax_container').html());var ajax_settings={url:url2,success:function(data){$('#ajax_container').html($('#template').jqote($.parseJSON(data)));if(typeof(params.callback)!='undefined')eval(params.callback);}};if(typeof(params.ids)!='undefined'){ajax_settings.type='post';var value=params.ids.join(',');ajax_settings.data={ids:value};}$.ajax(ajax_settings);}function check_all2(prefix,form){form=document.getElementById(form);for(i=0;i<form.elements.length;i++){if(form.elements[i].type=='checkbox'){if(form.elements[i].id.indexOf(prefix)==0){if(form.elements[i].checked==true)form.elements[i].checked=false;else
form.elements[i].checked=true;}}}}function bulk_action(action,prefix,form,pagination){if(action!=-1){form=document.getElementById(form);var ids=new Array();for(i=0;i<form.elements.length;i++)if(form.elements[i].type=='checkbox')if(form.elements[i].id.indexOf(prefix)==0)if(form.elements[i].checked==true)ids[ids.length]=$(form.elements[i]).attr('iid');if(ids.length>0){if(action=='delete'){$('.message #message-confirm').show();$('.message #message-confirm .message-text').html('Are You Sure You Want To Delete Selected Record(s).');$('.message #message-confirm #confirm-yes').unbind().click(function(){$('.message #message-confirm').hide();update_ajax3({rpp:pagination.rpp,pn:pagination.pn,action:action,ids:ids,type:document.report.type.value,user_filter:document.report.user_filter.value,country_filter:document.report.country_filter.value,date_filter:document.report.date_filter.value,orderby:'search_date desc',start_date_dd:document.report.start_date_dd.value,start_date_mm:document.report.start_date_mm.value,start_date_yyyy:document.report.start_date_yyyy.value,end_date_dd:document.report.end_date_dd.value,end_date_mm:document.report.end_date_mm.value,end_date_yyyy:document.report.end_date_yyyy.value});});$('.message #message-confirm #confirm-no').unbind().click(function(){$('.message #message-confirm').hide();});}else{update_ajax3({rpp:pagination.rpp,pn:pagination.pn,action:action,ids:ids});}}}}function confirm_delete(id,pagination){$('.message #message-confirm').show();$('.message #message-confirm .message-text').html('Are You Sure You Want To Delete This Record.');$('.message #message-confirm #confirm-yes').unbind().click(function(){$('.message #message-confirm').hide();update_ajax3({rpp:pagination.rpp,pn:pagination.pn,action:'delete',ids:[id]});});$('.message #message-confirm #confirm-no').unbind().click(function(){$('.message #message-confirm').hide();});}function update_ajax4(params){if(typeof(url)!=='string'){alert('url variable not set');return false;}var url2=option_url;for(x in params){if(x!='ids'&&x!='callback')url2+=x+'='+escape(params[x])+'&';}if(typeof(loading_img)=='undefined')$('#option_ajax_container').html('Loading . . .');else
$('#option_ajax_container').html('<div style="position:absolute;"><img alt="'+loading_img+'" src="'+loading_img+'"></div>'+$('#option_ajax_container').html());var ajax_settings={url:url2,success:function(data){$('#option_ajax_container').html($('#option_template').jqote($.parseJSON(data)));if(typeof(params.editor)!='undefined'&&params.editor=='yes'){tinyMCE.init({mode:"exact",elements:"statement2,statement3",theme:"advanced",plugins:"autolink,lists,style,layer,advhr,advimage,advlink,iespell,inlinepopups",theme_advanced_buttons1:"bold,italic,underline,justifyleft,justifycenter,justifyright,justifyfull,formatselect,fontselect,fontsizeselect",theme_advanced_buttons2:"bullist,numlist,outdent,indent,blockquote,anchor,image,forecolor,backcolor",theme_advanced_buttons3:"",theme_advanced_toolbar_location:"top",theme_advanced_toolbar_align:"left",theme_advanced_statusbar_location:"bottom",theme_advanced_resizing:true,content_css:"css/content.css",template_replace_values:{username:"Some User",staffid:"991234"}});}if(typeof(params.callback)!='undefined')eval(params.callback);}};if(typeof(params.ids)!=='undefined'){ajax_settings.type='post';var value=params.ids.join(',');ajax_settings.data={ids:value};}$.ajax(ajax_settings);}function submit_ajax(url,params,method,loading_img){jQuery('#loading').html('<div style="position:absolute;"><img alt="'+loading_img+'" src="'+loading_img+'"></div>'+jQuery('#loading').html());var ajaxoptions={url:url,success:submit_ajax_response};if(method=='post'){ajaxoptions.type='POST';ajaxoptions.data=params;}else
if(method=='get')ajaxoptions.url+=params;jQuery.ajax(ajaxoptions);function submit_ajax_response(data){jQuery('#loading').html('');var out=jQuery.parseJSON(data);if(out.update){jQuery('#result').css('display','none');jQuery('#result').html('<div id="message" class="updated"><p>'+out.message+'</p></div>');jQuery('#result').slideDown(500).delay(5000).slideUp(500);document.user.task.value='';document.user.workdesc.value='';}else
jQuery('#result').html('<div id="message" class="error"><p>'+out.message+'</p></div>');}}function update_ajax(params){if(typeof(url)!='string'){alert('url vriable not set');return false;}var url2=url;for(x in params){if(x!='user_url')url2+=x+'='+escape(params[x])+'&';}if(typeof(loading_img)=='undefined')$('#ajax_container').html('Loading . . .');else
$('#ajax_container').html('<div style="position:absolute;"><img alt="'+loading_img+'" src="'+loading_img+'"></div>'+$('#ajax_container').html());var ajax_settings={url:url2,dataType:"json",success:function(data){if(typeof(params.user_url)!='undefined'){var html="";for(i=0;i<data.all_urls.length;i++){html+='<input type="checkbox" name="link_pages" />'+(i+1)+'  '+data.all_urls[i]+'<br>';}$('#ajax_container').html(html);}if(typeof(params.callback)!='undefined')eval(params.callback);}};if(typeof(params.user_url)!='undefined'){ajax_settings.type='post';ajax_settings.data={user_url:params.user_url};}$.ajax(ajax_settings);}function current_action(action,rpp,pn,filter,id){update_ajax3({rpp:rpp,pn:pn,filter:filter,action:action+'-'+id});}function selected_action(action,rpp,pn,filter,prefix,form){var checked=0;var ids='';form=document.getElementById(form);for(i=0;i<form.elements.length;i++)if(form.elements[i].type=='checkbox'&&form.elements[i].id.indexOf(prefix)==0&&form.elements[i].checked){checked++;ids=ids+form.elements[i].id.substr(prefix.length)+',';}if(checked==0)return false;else
update_ajax3({rpp:rpp,pn:pn,filter:filter,action:action+'-'+ids});}var tc=false;function toggle_check(prefix,form){if(tc)tc=false;else
tc=true;check_all(prefix,form,tc)}function check_all(prefix,form,check){form=document.getElementById(form);for(i=0;i<form.elements.length;i++){if(form.elements[i].type=='checkbox'){if(form.elements[i].id.indexOf(prefix)==0)form.elements[i].checked=check;}}}function check_all3(prefix,form){form=document.getElementById(form);for(i=0;i<form.elements.length;i++){if(form.elements[i].type=='checkbox'){if(form.elements[i].id.indexOf(prefix)==0){if(form.elements[i].checked==true)form.elements[i].checked=false;else
form.elements[i].checked=true;}}}}function convert_sec_to_time(seconds){if('undefined'==seconds||typeof(seconds)=='undefined')seconds=0;var obj='';var hours=Math.floor(seconds/(60*60));var divisor_for_minutes=seconds%(60*60);var minutes=Math.floor(divisor_for_minutes/60);var divisor_for_seconds=divisor_for_minutes%60;var second=Math.ceil(divisor_for_seconds);if(hours<10)hours='0'+hours;if(minutes<10)minutes='0'+minutes;if(second<10)second='0'+second;obj=hours+":"+minutes+":"+second;return obj;}function handle_task_status(action,rpp,pn,filter,id,stop_others,iid){update_ajax3({rpp:rpp,pn:pn,filter:filter,action:action+'-'+iid+'-'+stop_others,callback:'show_notification()'});}function stop_task(action,rpp,pn,filter,id){update_ajax3({rpp:rpp,pn:pn,filter:filter,action:action+'-'+id,callback:'show_notification()'});}function delete_single(id,rpp,pn,filter){jQuery('#delete_single_confirmation').html('<div id="message" class="updated"><p>Do You Realy Want to Delete This Reocrd ? <a onclick="current_action(\'delete\','+rpp+','+pn+',\'filter\','+id+');" style="cursor:pointer;">Yes/</a>&nbsp;<a onclick="jQuery(\'#delete_single_confirmation\').html(\'\');" style="cursor:pointer;">No</a></p></div>');}function delete_all(action,rpp,pn,filter){if(action=='delete')jQuery('#delete_single_confirmation').html('<div id="message" class="updated"><p>Do You Realy Want to Delete Selected Records ? <a onclick="selected_action(\'delete\','+rpp+','+pn+',\'filter\',\'filter_\',\'filter\');" style="cursor:pointer;">Yes/</a>&nbsp;<a onclick="jQuery(\'#delete_single_confirmation\').html(\'\');" style="cursor:pointer;">No</a></p></div>');if(action=='pending')jQuery('#delete_single_confirmation').html('<div id="message" class="updated"><p>Do You Realy Want to Change Status of All Requests ? <a onclick="selected_action(\'pending\','+rpp+','+pn+',\'filter\',\'page_\',\'page\');" style="cursor:pointer;">Yes</a>&nbsp;<a onclick="jQuery(\'#delete_single_confirmation\').html(\'\');" style="cursor:pointer;">No</a></p></div>');if(action=='completed')jQuery('#delete_single_confirmation').html('<div id="message" class="updated"><p>Do You Realy Want to Complete ? <a onclick="selected_action(\'completed\','+rpp+','+pn+',\'filter\',\'page_\',\'page\');" style="cursor:pointer;">Yes</a>&nbsp;<a onclick="jQuery(\'#delete_single_confirmation\').html(\'\');" style="cursor:pointer;">No</a></p></div>');if(action=='cancelled')jQuery('#delete_single_confirmation').html('<div id="message" class="updated"><p>Do You Realy Want to Cancell All Requests ? <a onclick="selected_action(\'cancelled\','+rpp+','+pn+',\'filter\',\'page_\',\'page\');" style="cursor:pointer;">Yes</a>&nbsp;<a onclick="jQuery(\'#delete_single_confirmation\').html(\'\');" style="cursor:pointer;">No</a></p></div>');}function delete_single_item_notification(id,rpp,pn,rpp1,pn1,filter,model){jQuery('#delete_single_confirmation').html('<div id="message" class="updated"><p>Do You Realy Want to Delete This Reocrd ? <a onclick="delete_single_item(\'delete\','+rpp+','+pn+','+rpp1+','+pn1+',\'filter\','+id+',\''+model+'\');" style="cursor:pointer;">Yes/</a>&nbsp;<a onclick="jQuery(\'#delete_single_confirmation\').html(\'\');" style="cursor:pointer;">No</a></p></div>');}function delete_single_item(action,rpp,pn,rpp1,pn1,filter,id,model){update_ajax3({rpp:rpp,pn:pn,rpp1:rpp1,pn1:pn1,filter:filter,action:action+'-'+id+'-'+model});}function delete_all_notification(action,rpp,pn,rpp1,pn1,filter,model){jQuery('#delete_single_confirmation').html('<div id="message" class="updated"><p>Do You Realy Want to Delete Selected Records ? <a onclick="delete_all_records(\'delete\','+rpp+','+pn+','+rpp1+','+pn1+',\'filter\',\'filter_\',\'filter\',\''+model+'\');" style="cursor:pointer;">Yes/</a>&nbsp;<a onclick="jQuery(\'#delete_single_confirmation\').html(\'\');" style="cursor:pointer;">No</a></p></div>');}function delete_all_records(action,rpp,pn,rpp1,pn1,filter,prefix,form,model){var checked=0;var ids='';form=document.getElementById(form);for(i=0;i<form.elements.length;i++)if(form.elements[i].type=='checkbox'&&form.elements[i].id.indexOf(prefix)==0&&form.elements[i].checked){checked++;ids=ids+form.elements[i].id.substr(prefix.length)+',';}if(checked==0)return false;else
update_ajax3({rpp:rpp,pn:pn,rpp1:rpp1,pn1:pn1,filter:filter,action:action+'-'+ids+'-'+model});}